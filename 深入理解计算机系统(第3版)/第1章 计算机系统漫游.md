# 信息就是位+上下文

* 只由 ASCII 字符构成的文件为文本文件，其他文件为二进制文件
* 系统中所有信息都是由一串比特表示
* 区分不同数据对象的唯一方法是我们读到这些数据对象时的上下文

# 程序被其他程序翻译成不同格式

* 编译系统：预处理器、编译器、汇编器、链接器一起构成

## 预处理阶段

* 预处理器（cpp）根据 #开头的命令，读取系统头文件并直接插入程序文本，以.i作为文件扩展名得到另一个 C 程序

## 编译阶段

* 编译器（ccl）将文本文件 .i 翻译为文本文件 .s，包含汇编语言程序
* 汇编语言为不同高级语言的不同编译器提供通用输出语言

## 汇编阶段

* 汇编器（as）将.s 文件翻译为机器语言指令，将指令打包为可重定位目标程序，结果保存到.o 文件中
* .o 文件为二进制文件，包含指令编码

## 链接阶段

* 链接器（ld）负责处理预编译目标文件和当前文件的合并
* 合并后得到可执行目标文件，简称可执行文件，可以被加载到内存中，由系统执行

# 了解编译系统如何工作大有益处

* 优化程序性能
* 理解链接时出现的错误
* 避免安全漏洞

# 处理器读并解释存储在内存中的指令
## 系统的硬件组成
### 总线

* 贯穿整个系统的一组电子管道，负责携带信息字节负责在各个部件间传递
* 总线被设计成传送定长字节块，word
* word 是基本系统参数，各系统不尽相同

### I/O 设备

* 系统与外部世界的联系通道
* 每个 I/O 设备通过一个控制器或适配器与 I/O 总线相连
* 控制器与适配器区别在于封装方式
	* 控制器是 I/O 设备本身或者系统的主印制电路板（主板）上的芯片组
	* 适配器则是一块插在主板插槽上的卡

### 内存

* 主存用来存放程序和程序处理的数据
* 物理上由一组动态随机存取存储器（DRAM）芯片组成
* 逻辑上是一个线性字节数组，每个字节有其唯一地址（数组索引从0开始）

### 处理器

* 解释（或执行）存储在主存中指令的引擎
* 核心是一个大小为一个字的存储设备（寄存器）程序计数器（PC）
* 任何时刻，PC 都指向主存中的某条机器指令（即含有该条指令的地址）
* 处理器按照指令执行模型操作，模型由指令集架构决定
	* 加载：从主存复制一个字节或者一个字到寄存器，覆盖寄存器原来的内容
	* 存储：从寄存器复制一个字节或者一个字到主存上某位置，覆盖原来在该位置上的内容
	* 操作：把两个寄存器的内容复制到ALU（算术/逻辑单元），ALU 对这两个字做算术运算，将结果存到一个寄存器中，覆盖该寄存器原来的内容
	* 跳转：从指令本身抽取一个字，将这个字复制到程序计数器（PC）中，覆盖PC中原来的值
* 指令集架构描述每条机器代码指令的效果
* 微体系结构描述处理器实际上如何实现

## 运行 hello 程序

# 高速缓存（cache memory）

* 存放处理器近期可能会需要的信息
* 使用静态随机访问存储器 SRAM 实现
* 利用高速缓存局部性原理，程序具有访问局部区域里的数据和代码的趋势

# 存储设备形成层次结构

* 主要思想是上一层的存储器作为第一层存储器的高速缓存

